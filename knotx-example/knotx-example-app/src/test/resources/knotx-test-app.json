{
  "modules": [
    "knotx:test.io.knotx.KnotxServer",
    "java:io.knotx.repository.HttpRepositoryConnectorVerticle",
    "java:io.knotx.repository.FilesystemRepositoryConnectorVerticle",
    "java:io.knotx.knot.splitter.FragmentSplitterVerticle",
    "java:io.knotx.knot.assembler.FragmentAssemblerVerticle",
    "java:io.knotx.knot.templating.HandlebarsKnotVerticle",
    "java:io.knotx.knot.service.ServiceKnotVerticle",
    "knotx:example.io.knotx.ActionKnot",
    "java:io.knotx.adapter.service.http.HttpServiceAdapterVerticle",
    "knotx:example.io.knotx.HttpActionAdapter",
    "knotx:io.knotx.RemoteRepositoryMock",
    "knotx:io.knotx.ServiceMock",
    "knotx:io.knotx.ServiceAdapterMock",
    "knotx:io.knotx.ActionAdapterMock"
  ],
  "config": {
    "java:io.knotx.repository.HttpRepositoryConnectorVerticle": {
      "options": {
        "config": {
          "clientDestination": {
            "domain": "localhost",
            "port": 4001
          }
        }
      }
    },
    "java:io.knotx.knot.service.ServiceKnotVerticle": {
      "options": {
        "config": {
          "services": [
            {
              "name": "first-service",
              "address": "knotx.adapter.service.http",
              "params": {
                "path": "/service/mock/first.json"
              },
              "cacheKey": "first"
            },
            {
              "name": "second-service",
              "address": "knotx.adapter.service.http",
              "params": {
                "path": "/service/mock/second.json"
              }
            },
            {
              "name": "third-service",
              "address": "knotx.adapter.service.http",
              "params": {
                "path": "/service/mock/third.json"
              }
            },
            {
              "name": "labelsRepository",
              "address": "knotx.adapter.service.http"
            }
          ]
        }
      }
    },
    "knotx:io.knotx.HttpActionAdapter": {
      "options": {
        "config": {
          "allowedRequestHeaders": [
            "Cookie"
          ]
        }
      }
    },
    "java:io.knotx.adapter.service.http.HttpServiceAdapterVerticle": {
      "options": {
        "config": {
          "services": [
            {
              "path": "/service/mock/.*",
              "domain": "localhost",
              "port": 4000,
              "allowedRequestHeaders": [
                "Content-Type",
                "X-*"
              ]
            },
            {
              "path": "/service/.*",
              "domain": "localhost",
              "port": 8080,
              "allowedRequestHeaders": [
                "Content-Type",
                "X-*"
              ]
            }
          ]
        }
      }
    }
  }
}
